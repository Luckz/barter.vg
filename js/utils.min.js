function copyToClipboard(){let a=document.getElementById("collection_export");a.select(),document.execCommand("Copy"),document.getElementById("copyToClip").innerHTML="Copied export to clipboard \u2611"}function selectAllOffers(a){let{target:b}=a,c=b.id.includes("_from")?"from":"to",d=document.getElementsByClassName(`checked_${c}`);for(let c of d)c.checked=b.checked}function selectAll(c){let d=[...document.querySelectorAll(`input[name="${c.target.dataset.checkboxName}"]`)],e=d.reduce((d,a)=>(a.checked=c.target.checked,a.checked?d+1:d),0),f=document.querySelector("#selectCount");f&&(f.innerHTML=e)}function updateCheckedCount(a){let b=document.querySelector("#selectCount");if(b){let c=parseInt(b.innerHTML,10);b.innerHTML=a.target.checked?c+1:c-1}}function init(){let a=document.getElementById("copyToClip");a&&a.addEventListener("click",copyToClipboard);let b=document.querySelectorAll("[id=selectToggle], [id=selectToggle2]");for(let a of b)a.addEventListener("click",selectAll);let c=document.querySelectorAll("[id=selectToggle_to], [id=selectToggle_from]");for(let a of c)a.addEventListener("click",selectAllOffers);let d=document.querySelectorAll(".onChangeSubmit");for(let a of d)a.addEventListener("change",a=>a.target.form.submit());let e=document.querySelectorAll("[type=checkbox][name='add[]'], [type=checkbox][name='edit[]']");for(let a of e)a.addEventListener("click",updateCheckedCount);["edit[]","add[]","add_to_offer_1[]","add_to_offer_2[]"].forEach(a=>{let b=`${a}lastChecked`;window[b]=null,document.querySelectorAll(`input[name="${a}"]`).forEach((c,a,d)=>{c.addEventListener("click",e=>{let c=window[b];if(window[b]=a,null!==c&&e.shiftKey){let b=d[c].checked,e=[...d].slice(Math.min(a,c),Math.max(a,c)+1);e.forEach(a=>{a.checked=b});let f=document.querySelector("#selectCount");if(f){let a=parseInt(f.innerHTML,10),c=e.length-2;f.innerHTML=b?a+c:a-c}}},!1)})})}window.addEventListener("load",init);
