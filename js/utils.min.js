function copyToClipboard(){let a=document.getElementById("collection-export");a.select(),document.execCommand("Copy"),document.getElementById("copy-to-clipboard").innerHTML="Copied export to clipboard \u2611"}function selectAllOffers(a){let{target:b}=a,c=b.id.includes("-from")?"from":"to",d=document.getElementsByClassName(`checked-${c}`);for(let c of d)c.checked=b.checked}function selectAll(c){let d=[...document.querySelectorAll(`input[name="${c.target.dataset.checkboxName}"]`)],e=d.reduce((d,a)=>(a.checked=c.target.checked,a.checked?d+1:d),0),f=document.querySelector("#select-count");f&&(f.innerHTML=e)}function updateCheckedCount(a){let b=document.querySelector("#select-count");if(b){let c=parseInt(b.innerHTML,10);b.innerHTML=a.target.checked?c+1:c-1}}function init(){let a=document.getElementById("copy-to-clipoard");a&&a.addEventListener("click",copyToClipboard);let b=document.querySelectorAll("[id=select-toggle], [id=select-toggle-2]");for(let a of b)a.addEventListener("click",selectAll);let c=document.querySelectorAll("[id=select-toggle-to], [id=select-toggle-from]");for(let a of c)a.addEventListener("click",selectAllOffers);let d=document.querySelectorAll(".on-change--submit");for(let a of d)a.addEventListener("change",a=>a.target.form.submit());let e=document.querySelectorAll("[type=checkbox][name='add[]'], [type=checkbox][name='edit[]']");for(let a of e)a.addEventListener("click",updateCheckedCount);["edit[]","add[]","add-from[]","add-to[]"].forEach(a=>{let b=`${a}lastChecked`;window[b]=null,document.querySelectorAll(`input[name="${a}"]`).forEach((c,a,d)=>{c.addEventListener("click",e=>{let c=window[b];if(window[b]=a,null!==c&&e.shiftKey){let b=d[c].checked,e=[...d].slice(Math.min(a,c),Math.max(a,c)+1);e.forEach(a=>{a.checked=b});let f=document.querySelector("#select-count");if(f){let a=parseInt(f.innerHTML,10),c=e.length-2;f.innerHTML=b?a+c:a-c}}},!1)})})}window.addEventListener("load",init);
